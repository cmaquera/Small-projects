<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Primer ejemplo de AJAX</title>
	<script>
	var peticionHTTP; 

	function inicializar_XHR(){
		if(window.XMLHttpRequest)
			peticionHTTP = new XMLHttpRequest();
		else peticionHTTP = new ActiveXObject("Microsoft.XMLHTTP");
	}

	function realizarPeticion(url, metodo, funcion){
		//definir una funcion de como actuar
		peticionHTTP.onreadystatechange = funcion;
		// realizar la peticion
		peticionHTTP.open(metodo, url, true);
		peticionHTTP.send(null);
	}

	function descargarArchivo(){
		inicializar_XHR();
		realizarPeticion('archivo.txt','GET', funcActuadora);
	}

	function funcActuadora(){
		alert("actuando");
		if(peticionHTTP.readyState == 4)
			if(peticionHTTP.status == 200)
				document.write(peticionHTTP.responseText);
	}

	window.onload = descargarArchivo;

	</script>
</head>
<body>
	
</body>
</html>